# CLash_of_Clans
# 期末项目 - 部落冲突（Clash of Clans）Cocos2d-x 复刻版
## 小组信息
- 成员1：[陶芷安]（学号：[2451307]）
- 成员2：[郑涵月]（学号：[2451312]）
- 成员3：[王婧雯]（学号：[2450984]）

## 项目简介
本项目基于**C++语言**和**Cocos2d-x引擎**，复刻经典策略手游《部落冲突》的核心玩法，是期末课程设计的实践成果。项目聚焦“策略建造、兵种攻防、资源管理”三大核心模块，通过Cocos2d-x的跨平台特性，实现了轻量化但完整的游戏体验，同时深入实践C++面向对象设计、游戏引擎逻辑开发、2D场景渲染等技术要点。

## 技术栈
- 开发语言：**C++**
- 游戏引擎：**Cocos2d-x **
- 依赖库：STL标准库、Cocos2d-x内置组件（如UI系统、物理引擎）
- 工具链：Visual Studio [2022]/Xcode、Git

## 核心功能实现
### 1. 村庄建设系统
- 实现建筑体系：金矿、圣水收集器、箭塔、城墙、训练营、大本营等核心建筑，支持拖拽布局与层级渲染。
- 建筑升级机制：通过C++多态设计，不同建筑继承自`Building`基类，重写`upgrade()`方法实现等级提升与属性变化。

### 2. 军队训练与对战系统
- 兵种系统：野蛮人、弓箭手、巨人等基础兵种，通过`Soldier`基类派生，实现不同攻击逻辑与动画表现。
- 对战逻辑：基于Cocos2d-x的场景切换与事件回调，实现3分钟进攻时长、兵种路径寻路、建筑伤害计算等核心机制。

### 3. 资源与交互系统
- 资源管理：金币、圣水双资源体系，通过`ResourceManager`单例类实现生产、消耗、存储的统一管理。
- UI交互：基于Cocos2d-x的`ui::Widget`组件，实现建筑升级弹窗、兵种训练界面、对战结算面板的交互逻辑。

## 项目目录结构
```
ClashOfClans_Cocos2d-x/
├── Classes/       # C++核心类（建筑、兵种、资源管理等）
│   ├── Building/  # 建筑基类与派生类
│   ├── Soldier/   # 兵种基类与派生类
│   ├── Manager/   # 资源、对战管理单例类
│   └── AppDelegate.h/cpp  # 引擎入口配置
├── Resources/     # 资源文件（图片、音效、动画帧）
├── proj.win32/    # Windows工程文件（Visual Studio）
├── proj.ios_mac/  # iOS/macOS工程文件（Xcode）
└── README.md      # 项目说明文档
```

## 运行说明
### 1. 环境准备
- 安装Cocos2d-x引擎：[官网](https://www.cocos.com/en/cocos2d-x)下载对应版本，配置环境变量。
- 开发工具：安装Visual Studio（Windows）或Xcode（macOS）。

### 2. 编译运行
```bash
# 克隆项目仓库
git clone [你的Git仓库地址]

# 进入项目目录
cd ClashOfClans_Cocos2d-x

# 打开工程（以Windows为例）
cd proj.win32
ClashOfClans.sln  # 双击启动Visual Studio工程

# 编译运行
在Visual Studio中选择“Debug/Release”模式，点击运行按钮即可启动游戏。
```

### 3. 操作指南
- 启动游戏后，点击“新建村庄”创建角色，解锁初始金矿与训练营。
- 点击建筑可查看详情/升级，拖拽建筑调整村庄布局。
- 点击“训练兵种”按钮，消耗资源生产军队，点击“搜索对手”进入对战场景。
- 对战时点击屏幕部署兵种，3分钟内摧毁敌方建筑获取资源与奖杯。

## 小组分工（暂定）
| 成员   | 负责模块                | 核心工作内容                          |
|--------|-------------------------|---------------------------------------|
| [陶芷安] | 引擎配置+建筑系统       | Cocos2d-x工程搭建、建筑类设计与实现    |
| [郑涵月] | 兵种与对战逻辑          | 兵种类设计、对战寻路与伤害逻辑开发    |
| [王婧雯] | UI与资源管理            | 界面交互实现、资源加载与动画渲染      |

## 注意事项
- 项目为课程设计作品，仅用于教学展示，代码注释已按规范标注关键逻辑。
- 若遇编译报错，优先检查Cocos2d-x环境变量配置与依赖库版本匹配。
- 资源文件需放置在`Resources`目录下，否则会导致纹理/音效加载失败。
